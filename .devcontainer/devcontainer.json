{
    "name": "MoShiRPC_Dev",
    "dockerFile": "./Dockerfile",
    "context": "..",
    "workspaceFolder": "/workspace",
    "mounts": [
        "source=${localWorkspaceFolder},target=/workspace,type=bind",
        "source=${localEnv:HOME}/.ssh,target=/root/.ssh,type=bind,consistency=cached"
    ],
    "runArgs": [
        "--init",
        "--dns", "8.8.8.8"
    ],
    "initializeCommand": "if [ -f ${localEnv:HOME}/.gitconfig ]; then cp ${localEnv:HOME}/.gitconfig /tmp/gitconfig_for_container; fi",
    "customizations": {
        "vscode": {
            "extensions": [
                "llvm-vs-code-extensions.vscode-clangd",
                "MS-CEINTL.vscode-language-pack-zh-hans",
                "Codeium.codeium"
            ],
            "settings": {
                "terminal.integrated.defaultProfile.linux": "bash",
                "extensions.autoUpdate": false,
                "extensions.autoCheckUpdates": false,
                "clangd.path": "/usr/bin/clangd",
                "clangd.arguments": ["--background-index"],
            }
        }
    },
    "postCreateCommand": "chmod 700 /root/.ssh && chmod 600 /root/.ssh/* && if [ -f /tmp/gitconfig_for_container ]; then cp /tmp/gitconfig_for_container /root/.gitconfig; fi && git config --global --add safe.directory /workspace"
}